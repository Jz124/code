<!DOCTYPE html>
<html>
<head>
    <meta charset="GB2312">
    <title>天龙游戏IE7兼容版（自适应）</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: "Microsoft YaHei", SimSun, Arial, sans-serif;
        box-sizing: border-box;
    }
    body {
        width: 100vw;
        height: 100vh;
    }
    #container {
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100vw;
        background: #F7E08D;
        box-sizing: border-box;
    }
    /* 顶部导航栏 */
    .nav-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.8vw;
        padding: 1vw 1vw 0.5vw 1vw;
        min-height: 36px;
        flex: 0 0 auto;
    }
    .btn {
        flex: 1 1 0;
        min-width: 60px;
        max-width: 120px;
        height: 2.5em;
        background: #DE6E22;
        border: 1px solid #B3591B;
        text-align:center;
        line-height:2.5em;
        margin: 0 0.2vw;
        font-family: "Microsoft YaHei", SimSun, Arial;
        cursor: pointer;
        border-radius: 4px;
        box-sizing: border-box;
        position: relative;
    }
    .btn a {
        display:block;
        width:100%;
        height:100%;
        color:#fff !important;
        text-decoration:none;
        font-size: 1em;
    }
    .btn a:hover {
        background: #B3591B;
    }
    /* 主内容区 */
    .main-content {
        display: flex;
        flex: 1 1 auto;
        min-height: 0;
        min-width: 0;
        gap: 1vw;
        padding: 0 1vw;
    }
    /* 滚动窗口 */
    #scroll-window {
        flex: 2 1 0;
        min-width: 0;
        background: #FEFBC5;
        border: 1px solid #8F7929;
        overflow: auto;
        font-size: 1.1em;
        margin: 0;
        padding:0;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
    }
    #scroll-window > div {
        padding: 1em 0.8em;
    }
    .link-pair {
        margin:4px 0;
        display: flex;
        gap: 0.7em;
    }
    .link-item {
        flex: 1 1 0;
        color: #06c;
        text-decoration: underline !important;
        white-space: nowrap;
        font-size: 1em;
    }
    /* 轮播窗口 */
    #carousel {
        flex: 1 1 0;
        min-width: 180px;
        max-width: 320px;
        background: #fff;
        border: 1px solid #666;
        overflow: hidden;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
    }
    .carousel-img {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: none;
        left: 0;
        top: 0;
        background: #fff;
        transition: opacity 0.3s;
    }
    .carousel-img.active {
        display: block;
        z-index: 1;
        opacity: 1;
    }
    .ctrl-btn {
        position: absolute;
        width: 8vw;
        max-width: 24px;
        min-width: 15px;
        height: 1.6em;
        bottom: 6px;
        border: 1px solid #FF6600 !important;
        background: #FF9900;
        color: #fff !important;
        font: bold 1em Arial;
        text-align: center;
        cursor: pointer;
        z-index: 999;
        opacity: 0.4;
        line-height: 1.6em;
        border-radius: 3px;
    }
    .ctrl-btn.active, .ctrl-btn:hover {
        background: #FF6600 !important;
        opacity: 1;
        border-color: #B3591B !important;
    }
    #ctrl1 { left: 55%; transform: translateX(-120%);}
    #ctrl2 { left: 62%; transform: translateX(-50%);}
    #ctrl3 { left: 69%; transform: translateX(20%);}
    /* 信息栏 */
    .info-bar {
        display: flex;
        flex: 0 0 auto;
        justify-content: space-between;
        gap: 1vw;
        padding: 0.5vw 1vw 1vw 1vw;
        min-height: 50px;
    }
    #left-info, #right-info {
        flex: 1 1 0;
        min-width: 0;
        background: transparent;
        font-size: 0.93em;
        line-height: 1.3em;
    }
    #left-info a, #right-info a {
        display:block;
        color:#444 !important;
        text-decoration:none;
        padding:2px 3px !important;
        font-family: "Microsoft YaHei", SimSun, Arial;
        font-size: 1em;
    }
    #left-info a.highlight, #right-info a.highlight {
        color:#9E511C !important;
    }
    #left-info a:hover, #right-info a:hover {
        color:#f60 !important;
        text-decoration:underline !important;
    }
    #right-info .link-row {
        display: block;
        width: 100%;
        font-family: "Microsoft YaHei", SimSun, Arial;
        margin: 0 0 2px 0;
    }
    #right-info .link-container {
        width:100%;
        overflow:hidden;
        display: flex;
        gap: 0.5em;
        font-family: "Microsoft YaHei", SimSun, Arial;
    }
    #right-info .link-float {
        flex: 1 1 0;
        font-family: "Microsoft YaHei", SimSun, Arial;
    }
    #right-info .link-float a {
        display:inline-block;
        width:auto;
        color:#06c !important;
        text-decoration:underline !important;
        white-space:nowrap;
        padding:2px 0;
        letter-spacing:-0.5px;
        font-family: "Microsoft YaHei", SimSun, Arial;
    }
    #right-info .info-row {
        display: block;
        font-family: "Microsoft YaHei", SimSun, Arial;
        color: #444;
        padding:2px 3px;
        margin:0;
    }
    /* 响应式优化 */
    @media (max-width: 900px) {
        .main-content {
            flex-direction: column;
            gap: 1em;
        }
        #carousel, #scroll-window {
            max-width: 100vw;
            width: 100%;
            min-width: 0;
        }
        .info-bar {
            flex-direction: column;
            gap: 0.5em;
        }
    }
    @media (max-width: 600px) {
        .nav-bar {
            flex-direction: column;
            gap: 0.5em;
        }
        .btn {
            min-width: 40px;
            font-size: 0.9em;
        }
        #container {
            font-size: 14px;
        }
    }
    </style>
</head>
<body>
<div id="container">
    <!-- 顶部导航 -->
    <div class="nav-bar">
        <div class="btn" id="btn1"><a href="https://www.17173.com/">官网</a></div>
        <div class="btn" id="btn2"><a href="https://www.gamersky.com/">新手</a></div>
        <div class="btn" id="btn3"><a href="https://www.duowan.com/">下载</a></div>
        <div class="btn" id="btn4"><a href="https://news.qq.com/ch/games">论坛</a></div>
        <div class="btn" id="btn5"><a href="https://games.sina.com.cn/">商城</a></div>
        <div class="btn" id="btn6"><a href="https://game.163.com/">安全</a></div>
    </div>
    <!-- 主内容区 -->
    <div class="main-content">
        <!-- 滚动窗口 -->
        <div id="scroll-window">
            <div>
                <div class="link-pair">
                    <a href="https://www.baidu.com/" class="link-item">免费在线杀毒</a>
                    <a href="https://www.tencent.com/" class="link-item">360安全中心</a>
                </div>
                <div class="link-pair">
                    <a href="https://www.alibabagroup.com/" class="link-item">天龙客服满意度调查</a>
                    <a href="https://www.sohu.com/" class="link-item">账号安全站</a>
                </div>
                <p style="color:#c00;margin:8px 0 4px 0">5月15日开放一组新服：</p>
                <p style="color:#c00;margin:0 0 8px 0">网通二区【双子座】</p>
                <p style="margin:8px 0">5月14日全服更新至0.85.0858</p>
                <p style="color:#666;margin:8px 0 0 0">
                    暂停电话密保功能首绑、增绑两项服务，解除电话密保绑定功能可以继续使用。<br>
                    已绑定电话密保的账号，仍可继续使用该项服务，但是相关的帐号安全后续处理等<br>
                    服务将和无密保用户一致。
                </p>
            </div>
        </div>
        <!-- 轮播窗口 -->
        <div id="carousel">
            <img src="1.png" class="carousel-img active" alt="carousel1">
            <img src="2.png" class="carousel-img" alt="carousel2">
            <img src="3.png" class="carousel-img" alt="carousel3">
            <div class="ctrl-btn" id="ctrl1">1</div>
            <div class="ctrl-btn" id="ctrl2">2</div>
            <div class="ctrl-btn" id="ctrl3">3</div>
        </div>
    </div>
    <!-- 信息栏 -->
    <div class="info-bar">
        <div id="left-info">
            <a href="https://www.17173.com/" class="highlight">纪念512活动公告</a>
            <a href="https://www.gamersky.com/" class="highlight">《天龙》5月15日新开服务器公告</a>
            <a href="https://www.duowan.com/">官博:太好听了！天龙背景音乐翻唱合辑<span>(05/18)</span></a>
            <a href="https://news.qq.com/ch/games">玩的就是心跳！《天龙》七大保命绝招<span>(05/18)</span></a>
        </div>
        <div id="right-info">
            <a href="https://www.baidu.com/" class="highlight link-row">搜狐畅游产品评测专员热招！欢迎加盟</a>
            <div class="link-row link-container">
                <div class="link-float">
                    <a href="https://www.tencent.com/"class="link-item">最新手动补丁下载</a>
                </div>
                <div class="link-float">
                    <a href="https://www.sina.com.cn/"class="link-item">手机靓图免费下载</a>
                </div>
            </div>
            <div class="info-row">更新版本: tlbb-0.85.0600-0.85.0858</div>
            <div class="info-row">大小：11.8MB&nbsp;&nbsp;更新日期：09-5-14</div>
        </div>
    </div>
</div>
<script>
// ================ IE7兼容性补丁 ================
if (!document.getElementsByClassName) {
    document.getElementsByClassName = function(className) {
        var all = document.all ? document.all : document.getElementsByTagName('*');
        var elements = [];
        for (var i=0; i<all.length; i++) {
            if (all[i].className) {
                var cn = all[i].className.split(' ');
                for (var j=0; j<cn.length; j++) {
                    if (cn[j] === className) {
                        elements.push(all[i]);
                        break;
                    }
                }
            }
        }
        return elements;
    };
}

function getElementsByClassName(node, className) {
    var elements = node.getElementsByTagName("*");
    var result = [];
    for (var i = 0; i < elements.length; i++) {
        if ((' ' + elements[i].className + ' ').indexOf(' ' + className + ' ') > -1) {
            result.push(elements[i]);
        }
    }
    return result;
}

// ================ 轮播控制脚本 ================
var currentIndex = 0;
var carouselTimer = null;

function switchSlide(index) {
    var imgs = document.getElementsByClassName('carousel-img');
    var btns = document.getElementsByClassName('ctrl-btn');
    for(var i=0; i<imgs.length; i++){
        imgs[i].style.display = 'none';
        imgs[i].className = imgs[i].className.replace(/\s?active/g, '');
        btns[i].className = btns[i].className.replace(/\s?active/g, '');
    }
    imgs[index].style.display = 'block';
    imgs[index].className += ' active';
    btns[index].className += ' active';
    currentIndex = index;
}

function startCarousel() {
    if(carouselTimer) clearInterval(carouselTimer);
    carouselTimer = setInterval(function(){
        var imgs = document.getElementsByClassName('carousel-img');
        currentIndex = (currentIndex+1)%imgs.length;
        switchSlide(currentIndex);
    }, 4000);
}

window.onload = function(){
    var btns = document.getElementsByClassName('ctrl-btn');
    switchSlide(0);
    for(var i=0; i<btns.length; i++){
        btns[i].setAttribute('index', i);
        btns[i].onmouseover = function(){
            clearInterval(carouselTimer);
            var index = parseInt(this.getAttribute('index'),10);
            switchSlide(index);
        };
        btns[i].onmouseout = function(){
            startCarousel();
        };
    }
    startCarousel();
};

// ================ 禁用右键与所有常见快捷键 ================
document.oncontextmenu = function() {
    return false;
};

document.onkeydown = function(e) {
    e = e || window.event;
    var keyCode = e.keyCode || e.which;
    var isCtrl = e.ctrlKey;
    var isShift = e.shiftKey;
    var isAlt = e.altKey;

    // 禁用F1~F12
    if (keyCode >= 112 && keyCode <= 123) return false;

    // 常见开发者、保存、打印、查找、关闭、刷新等快捷键
    if (
        // 开发者工具
        (isCtrl && isShift && (keyCode === 73 || keyCode === 67 || keyCode === 74 || keyCode === 75)) || // Ctrl+Shift+I/C/J/K
        (isCtrl && isShift && keyCode === 68) || // Ctrl+Shift+D
        (isCtrl && keyCode === 85) ||       // Ctrl+U
        (isCtrl && keyCode === 83) ||       // Ctrl+S
        (isCtrl && keyCode === 80) ||       // Ctrl+P
        (isCtrl && keyCode === 79) ||       // Ctrl+O
        (isCtrl && keyCode === 70) ||       // Ctrl+F
        (isCtrl && isShift && keyCode === 70) || // Ctrl+Shift+F
        (isCtrl && keyCode === 78) ||       // Ctrl+N
        (isCtrl && keyCode === 82) ||       // Ctrl+R
        (isCtrl && isShift && keyCode === 82) || // Ctrl+Shift+R
        (isCtrl && keyCode === 87) ||       // Ctrl+W
        (isCtrl && keyCode === 9) ||        // Ctrl+Tab
        (isCtrl && isShift && keyCode === 84) || // Ctrl+Shift+T
        (isCtrl && isShift && keyCode === 78) || // Ctrl+Shift+N
        (isCtrl && isShift && keyCode === 68) || // Ctrl+Shift+D
        (isCtrl && keyCode === 69) ||       // Ctrl+E
        (isCtrl && keyCode === 72) ||       // Ctrl+H
        (isCtrl && isShift && keyCode === 72) || // Ctrl+Shift+H
        (isCtrl && keyCode === 65) ||       // Ctrl+A
        (isCtrl && keyCode === 67) ||       // Ctrl+C
        (isCtrl && keyCode === 88) ||       // Ctrl+X
        (isCtrl && keyCode === 86) ||       // Ctrl+V
        (isCtrl && keyCode === 45) ||       // Ctrl+Insert
        (isShift && keyCode === 45) ||      // Shift+Insert
        (isCtrl && isShift && keyCode === 46) || // Ctrl+Shift+Del
        (isCtrl && keyCode === 116) ||      // Ctrl+F5
        (isCtrl && keyCode === 123)         // Ctrl+F12
    ) {
        return false;
    }

    // Alt+F4 关闭窗口
    if (isAlt && keyCode === 115) return false;

    // 禁止F5刷新
    if (keyCode === 116) return false;

    // 禁止Ctrl+Shift+O
    if (isCtrl && isShift && keyCode === 79) return false;

    // 禁止Ctrl+Shift+P
    if (isCtrl && isShift && keyCode === 80) return false;

    // 禁止Ctrl+Shift+S
    if (isCtrl && isShift && keyCode === 83) return false;
};
</script>
</body>
</html>
